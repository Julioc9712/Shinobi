<head>
<!-- Powered by Shinobi, http://shinobi.video -->
<% include header-title.ejs %>
<% if(!window.libURL)window.libURL = originalURL + global.s.checkCorrectPathEnding(config.webPaths.home) %>
<% include header-meta.ejs %>
<meta http-equiv="content-type" content="text/html;charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" href="<%-window.libURL%>libs/css/bootstrap.min.css">
<link rel="stylesheet" href="<%-window.libURL%>libs/css/login.css">
<link rel="stylesheet" href="<%-window.libURL%>libs/css/material.min.css">
<link rel="stylesheet" href="<%-window.libURL%>libs/css/material.style.css">
<link rel="stylesheet" href="<%-window.libURL%>libs/css/roboto.css" type="text/css" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<% include header-favicon.ejs %>
<script src="<%-window.libURL%>libs/js/jquery.min.js"></script>
<script src="<%-window.libURL%>libs/js/jquery-ui.min.js"></script>
<script src="<%-window.libURL%>libs/js/jquery.serialize.js"></script>
<style>
.table .table-header-sorter {
    cursor: pointer;
    white-space: nowrap;
}
.table th.table-header-sorter i.fa-sort {
    color: #ccc;
}
.table th.table-header-sorter i {
    margin-left: 10px;
}
</style>
<script>
jQuery(function () {
    jQuery('body').on('click', '.table-header-sorter', function () {
        var $sort = jQuery(this).find('i');
        var currentSort = undefined;
        if ($sort.hasClass('fa-sort-asc')) {
            currentSort = 'asc';
        } else if ($sort.hasClass('fa-sort-desc')) {
            currentSort = 'desc';
        }

        jQuery(this)
            .parent()
            .find('i.fa')
            .removeClass('fa-sort-asc')
            .removeClass('fa-sort-desc')
            .addClass('fa-sort');

        jQuery(this)
            .find('i.fa')
            .toggleClass('fa-sort', currentSort === 'desc')
            .toggleClass('fa-sort-asc', currentSort === undefined)
            .toggleClass('fa-sort-desc', currentSort === 'asc');

        const field = jQuery(this).data('field');
        const $body = jQuery(this)
            .closest('.table')
            .find('tbody');

        const sortedRows = $body
            .find('tr')
            .detach()
            .sort(function(a,b) {
                const data1 = jQuery(a).data('sort');
                const data2 = jQuery(b).data('sort');
                if (currentSort === undefined)
                    return data1[field] > data2[field] ? 1 : data1[field] < data2[field] ? -1 : 0;
                else if (currentSort === 'asc')
                    return data1[field] > data2[field] ? -1 : data1[field] < data2[field] ? 1 : 0;
                else
                    return data1._no > data2._no ? 1 : data1._no < data2._no ? -1 : 0;
            })
        $body.append(sortedRows);
    });
});
</script>
</head>
<% cleanLang = function(string){
    if(!string){string=''}
    return string.replace(/'/g,"\\'")
}%>
